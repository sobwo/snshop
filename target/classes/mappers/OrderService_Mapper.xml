<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.myteam.myapp.persistance.OrderService_Mapper">
	<insert id="addressInsert" parameterType="av">
		INSERT INTO ADDRESS(USERNAME,ADDRESSPHONE,ZIPCODE,ADDRESS,DETAILADDRESS,MAINADDRESS,MEMBERNO)
		VALUES(#{userName},#{addressPhone},#{zipCode},#{address},#{detailAddress},#{mainAddress},#{memberNo})
	</insert>
		
	<select id ="addressSelect" parameterType="Integer" resultType="av">
		SELECT * FROM ADDRESS WHERE MEMBERNO = #{0}
	</select>
	
	<select id ="addressSelectOne" parameterType="Integer" resultType="av">
		SELECT * FROM ADDRESS WHERE ADDRESSNO = #{0}
	</select>
	
	<delete id ="addressDelete" parameterType="Integer">
		DELETE FROM ADDRESS WHERE ADDRESSNO = #{0}
	</delete>
	
	<update id ="addressModify" parameterType="av">
		UPDATE ADDRESS
		SET USERNAME=#{userName}, ADDRESSPHONE=#{addressPhone}, ZIPCODE=#{zipCode}, ADDRESS=#{address}, 
			DETAILADDRESS=#{detailAddress}, MAINADDRESS=#{mainAddress} 
		WHERE ADDRESSNO=#{addressNo}
	</update>
	
	<select id="selectOrderAll" parameterType="Integer" resultType="ov">
		SELECT * FROM ORDERS WHERE MEMBERNO = #{0} AND PORS = 'P' AND ORDERDAYS >= DATE_SUB(NOW(), INTERVAL 6 MONTH);
	</select>
</mapper>
